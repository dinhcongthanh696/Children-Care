<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Director | Simple Tables</title>
  <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
  <meta name="description" content="Developed By M Abdur Rokib Promy">
  <meta name="keywords" content="Admin, Bootstrap 3, Template, Theme, Responsive">
  <!-- bootstrap 3.0.2 -->
  <link href="../../../css_admin/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <!-- font Awesome -->
  <link href="../../../css_admin/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <!-- Ionicons -->
  <link href="../../../css_admin/ionicons.min.css" rel="stylesheet" type="text/css" />
  <!-- google font -->
  <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  <!-- Theme style -->
  <link href="../../../css_admin/style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>
<body class="skin-black">
<!-- header logo: style can be found in header.less -->
<header class="header">
  <a href="index.html" class="logo">
    <!-- Add the class icon to your logo image or logo icon to add the margining -->
    ChildrenCare
  </a>
  <!-- Header Navbar: style can be found in header.less -->
  <div th:replace="header_admin::navbarRight"></div>
</header>
<div class="wrapper row-offcanvas row-offcanvas-left">
  <!-- Left side column. contains the logo and sidebar -->
  <div th:replace="navBar_admin::leftSide_admin" ></div>
  <!-- Right side column. Contains the navbar and content of the page -->
  <aside class="right-side">
    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-xs-12">
          <div class="panel">
            <header class="panel-heading">
              Thông tin các đơn dịch vụ được đặt chỗ
            </header>
            <h3 th:if="${listInfo} == null">Chưa có đơn dịch vụ nào được đặt</h3>
            <!-- <div class="box-header"> -->
            <!-- <h3 class="box-title">Responsive Hover Table</h3> -->
            <div class="panel-body table-responsive">
              <div class="row">
                <div class="col-sm-8">
                  <form th:action="@{/manager/home/page/1}">
                    <input th:value="${key} == 0 ?'':${key}" type="text" name="key" class="form-control input-sm pull-left" style="width: 260px;"
                           placeholder="Tìm kiếm theo ID/tên khách của đơn đã đặt.."/>
                    <button class="btn btn-sm btn-default"><i class="fa fa-search"></i></button>
                  </form>
                </div>

                <div class="col-sm-4">
                  <form id="myForm1" th:action="@{/manager/managerView/filter/1}">
                    <a class="text-danger" href="/ChildrenCare/manager/home/page/1">All Reservation | </a>
                    Status: <select name="filterValue" th:onchange="filterReservation()">
                    <option readonly></option>
                    <option th:selected="${filterValue} == true" value="1">Submited</option>
                    <option th:selected="${filterValue} == false" value="0">Canceled</option>
                    </select>
                  </form>

                </div>
                <script>
                  function filterReservation(){
                    document.getElementById("myForm1").submit();
                  }
                </script>
              </div>
              <table  id="emp-table" class="table table-hover">
                <thead>
                <tr>
                  <th><a th:href="@{'/manager/home/page/' + ${currentPage} + '?sortField=id&sortDir=' + ${reverseSortDir}}">Reservation Id</a></th>
                  <th><a th:href="@{'/manager/home/page/' + ${currentPage} + '?sortField=date&sortDir=' + ${reverseSortDir}}">Reserved Date</a></th>
                  <th><a th:href="@{'/manager/home/page/' + ${currentPage} + '?sortField=customer&sortDir=' + ${reverseSortDir}}">Customer name</a></th>
                  <th></th>
                  <th>Total cost</th>
                  <th><a th:href="@{'/manager/home/page/' + ${currentPage} + '?sortField=status&sortDir=' + ${reverseSortDir}}">Status</a></th>
                  <th>Action</th>

                </tr>
                </thead>
                <tbody>
                <tr th:each="info: ${listInfo}">
                  <td th:text="${info.reservationId}"></td>
                  <td th:text="${info.date}"></td>
                  <td th:text="${info.customer.customer_user.fullname}"></td>
                  <td></td>
                  <td th:text="${info.totalReservationPrice}"></td>
                  <td th:utext="${info.status} ?'Submited':'Canceled'"></td>
                  <td>
<!--                    <button ><i class="fa fa-eye" aria-hidden="true"></i></button>-->
                    <a th:href="@{/manager/{rid}(rid=${info.reservationId})}"><i class="fa fa-eye" aria-hidden="true"></i></a>
                  </td>

                </tr>
                </tbody>
              </table>
              <div th:if="${filterValue} == null">
                <div th:if="${totalPages > 1} ">
                  Total Items: [[${totalItems}]]
                  &nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;

                  <a th:if="${currentPage > 1}" th:href="@{'/manager/home/page/1'+${key != null? '?keyword='+ key:  ''} + '?sortField=id&sortDir=' + ${reverseSortDir}}">First</a>
                  <span th:unless="${currentPage > 1}">First</span>
                  &nbsp;&nbsp;

                  <a th:if="${currentPage > 1}" th:href="@{'/manager/home/page/' + ${currentPage - 1} +${key != null? '?keyword='+ key:  ''}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}  }">Previous</a>
                  <span th:unless="${currentPage > 1}">Previous</span>

                  &nbsp;&nbsp;

                  <span th:each="i: ${#numbers.sequence(1, totalPages)}">
			                  <a th:if="${currentPage != i}" th:href="@{'/manager/home/page/'+ ${i} +${key != null? '?keyword='+ key:  ''} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} }">[[${i}]]</a>
			                  <span th:unless="${currentPage != i}">[[${i}]]</span>&nbsp;</span>

                  <a th:if="${currentPage < totalPages}" th:href="@{'/manager/home/page/' + ${currentPage + 1} +${key != null? '?keyword='+ key:  ''} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} }">Next</a>
                  <span th:unless="${currentPage < totalPages}">Next</span>
                  &nbsp;&nbsp;

                  <a th:if="${currentPage < totalPages}" th:href="@{'/manager/home/page/' + ${totalPages}+${key != null? '?keyword='+ key:  ''}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}  }">Last</a>
                  <span th:unless="${currentPage < totalPages}">Last</span>
                </div>
              </div>

              <div th:if="${filterValue} != null">
                <div th:if="${totalPages > 1} ">
                  Total Items: [[${totalItems}]]
                  &nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;

                  <a th:if="${currentPage > 1}" th:href="@{'/manager/staffview/filter/1'+${filterValue != null? '?filterValue='+ filterValue:  ''}}">First</a>
                  <span th:unless="${currentPage > 1}">First</span>
                  &nbsp;&nbsp;

                  <a th:if="${currentPage > 1}" th:href="@{'/manager/staffview/filter/' + ${currentPage - 1} +${filterValue != null? '?filterValue='+ filterValue:  ''} }">Previous</a>
                  <span th:unless="${currentPage > 1}">Previous</span>

                  &nbsp;&nbsp;

                  <span th:each="i: ${#numbers.sequence(1, totalPages)}">
			                  <a th:if="${currentPage != i}" th:href="@{'/manager/staffview/filter/'+ ${i} +${filterValue != null? '?filterValue='+ filterValue:  ''}}">[[${i}]]</a>
			                  <span th:unless="${currentPage != i}">[[${i}]]</span>&nbsp;</span>

                  <a th:if="${currentPage < totalPages}" th:href="@{'/manager/staffview/filter/' + ${currentPage + 1} +${filterValue != null? '?filterValue='+ filterValue:  ''}}">Next</a>
                  <span th:unless="${currentPage < totalPages}">Next</span>
                  &nbsp;&nbsp;

                  <a th:if="${currentPage < totalPages}" th:href="@{'/manager/staffview/filter/' + ${totalPages}+${filterValue != null? '?filterValue='+ filterValue:  ''} }">Last</a>
                  <span th:unless="${currentPage < totalPages}">Last</span>
                </div>
              </div>

            </div><!-- /.box-body -->
          </div><!-- /.box -->
        </div>
      </div>
    </section><!-- /.content -->
    <div class="footer-main">
      Children-Care System Management
    </div>
  </aside><!-- /.right-side -->
</div><!-- ./wrapper -->


<!-- jQuery 2.0.2 -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="../../../js_admin/jquery.min.js" type="text/javascript"></script>

<!-- Bootstrap -->
<script src="../../../js_admin/bootstrap.min.js" type="text/javascript"></script>
<!-- Director App -->
<script src="../../../js_admin/Director/app.js" type="text/javascript"></script>
</body>
</html>
