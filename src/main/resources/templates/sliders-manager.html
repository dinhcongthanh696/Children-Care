<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- responsive meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- For IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- master stylesheet -->
    <link rel="stylesheet" href="../../../css/style.css">
    <!-- Responsive stylesheet -->
    <link rel="stylesheet" href="../../../css/responsive.css">
    <!--Color Switcher Mockup-->
    <link rel="stylesheet" href="../../../css/color-switcher-design.css">
    <!--Color Themes-->
    <link rel="stylesheet" href="../../../css/color-themes/default-theme.css"
          id="theme-color-file">
    <!-- Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Bootstrap -->
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180"
          href="../images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png"
          href="../images/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png"
          href="../images/favicon/favicon-16x16.png" sizes="16x16">

    <link rel="stylesheet" href="../../../css/authentication.css">
    <!-- Fav icon -->
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>

    <link rel="stylesheet" href="../../../css/myReservation.css">
    <link rel="stylesheet" href="../../../css/setting.css">

    <!--fix login form not appear when first click-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--    fix login form not appear when first click-->
   <script>
       var lastChoosenImg;
       function reviewImg(inputElement){
           if(lastChoosenImg)
               URL.revokeObjectURL(lastChoosenImg)
           var file = inputElement.files[0]
           lastChoosenImg = URL.createObjectURL(file)
           var img = document.getElementById('img1')
           img.src = lastChoosenImg

       }

   </script>


</head>
<body>
<div class="boxed_wrapper" th:replace="authentication.html :: authentication('/setting/profile')"></div>
<div style="margin-bottom: 50px" th:insert="index :: top-bar"></div>
<header th:replace="header.html :: header"></header>

<div th:replace="mainmenu.html :: mainMenu('','Search...','home','')"></div>
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-4 pb-5" th:replace="settingLeftSide::left-side"></div>
        <!-- Profile Settings-->
        <div class="col-lg-8 pb-5">
            <div class="container-lg">
                <div class="table-responsive">
                    <div class="table-wrapper">
                        <div class="table-title">
                            <div class="row">
                                <div class="col-sm-8"><h2>Sliders <b>Manager</b></h2></div>
                                <div class="col-sm-4">
                                    <button type="button" class="btn btn-info add-new"><i class="fa fa-plus"></i> Add New</button>
                                </div>
                            </div>
                        </div>
                        <table class="table table-bordered max-width">
                            <thead>
                            <tr>
                                <th>Slider ID</th>
                                <th>Slider Title</th>
                                <th>Slider Image</th>
                                <th>Slider BlackLink</th>
                                <th>Slider Status</th>
                                <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="s: ${slidersList}">

                                <td th:text="${s.slideId}"></td>
                                <td th:text="${s.title}"></td>
                                <td>
                                    <div>
                                        <img th:src="${'data:image/gif;base64,'+s.base64ThumbnailEncode}">
                                    </div>
                                </td>
                                <td th:text="${s.backLink}"></td>
                                <td th:utext="${s.status} ?'Show':'Hide'"></td>
                                <td>
                                    <a th:attr="data-target='#detailSlider'+${s.slideId}" class="details text-danger" data-toggle="modal">Details</a>
<!--                                     details modal-->
                                    <div th:id="${'detailSlider'+ s.slideId}"  class="modal fade">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <form>
                                                    <div class="modal-header">
                                                        <h4 class="modal-title">Detail Slider</h4>
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="form-group">
                                                            <label>Image</label>
                                                            <input readonly type="text" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Title</label>
                                                            <input readonly th:value="${s.title}" type="email" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Backlink</label>
                                                            <input readonly th:value="${s.backLink}" class="form-control" required></input>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Status</label>
                                                            <input readonly th:value="${s.status}?'Show':'Hide'" type="text" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Notes</label>
                                                            <input readonly th:value="${s.notes}" type="text" class="form-control" required>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
<!--                                    -->
                                    <a th:attr="data-target='#editSlider'+${s.slideId}"  class="editModal text-primary" data-toggle="modal" >Edit</a>
                              <!--  edit modal-->
                                    <div th:id="${'editSlider'+ s.slideId}" class="modal fade">
                                        <div class="modal-dialog">
                                            <div class="modal-content">

                                                    <div class="modal-header">
                                                        <h4 class="modal-title">Edit Slider</h4>
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form action="/ChildrenCare/setting/update" method="post">
                                                        <div class="form-group">
                                                            <label>ID</label>
                                                            <input readonly th:value="${s.slideId}" name="id" type="text" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Title</label>
                                                            <input th:value="${s.title}" name="title" type="text" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Image</label>
                                                            <img  style="height: 200px" id="img1" th:src="${'data:image/gif;base64,'+s.base64ThumbnailEncode}" alt="anh bi loi"  class="form-control" required>
                                                            <input  onchange="reviewImg(this)" type="file">

                                                        </div>
                                                        <div class="form-group">
                                                            <label>Backlink</label>
                                                            <input th:value="${s.backLink}" name="backlink" type="text" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Note</label>
                                                            <input th:value="${s.notes}" name="note" type="text" class="form-control" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Status</label>
                                                            <select name="status" class="small text-muted mb-1" >
                                                                <option value="1" th:checked="${s.status}">Show</option>
                                                                <option value="0" th:checked="not ${s.status}">Hide</option>
                                                            </select>
<!--                                                            <input th:value="${s.status}?'Show':'Hide'" name="status" type="text" class="form-control" required>-->
                                                        </div>
                                                            <div class="modal-footer">
                                                            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                                                            <button  type="submit" class="btn btn-primary  btn-default">Save</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div th:if="${totalPages > 1}">
                            Total Items: [[${totalItems}]]
                            &nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;

                            <a th:if="${currentPage > 1}" th:href="@{'/setting/sliderManager/page/1'}">First</a>
                            <span th:unless="${currentPage > 1}">First</span>
                            &nbsp;&nbsp;

                            <a th:if="${currentPage > 1}" th:href="@{'/setting/sliderManager/page/' + ${currentPage - 1} }">Previous</a>
                            <span th:unless="${currentPage > 1}">Previous</span>

                            &nbsp;&nbsp;

                            <span th:each="i: ${#numbers.sequence(1, totalPages)}">
			                  <a th:if="${currentPage != i}" th:href="@{'/setting/sliderManager/page/' + ${i}}">[[${i}]]</a>
			                  <span th:unless="${currentPage != i}">[[${i}]]</span>&nbsp;</span>

                            <a th:if="${currentPage < totalPages}" th:href="@{'/setting/sliderManager/page/' + ${currentPage + 1} }">Next</a>
                            <span th:unless="${currentPage < totalPages}">Next</span>
                            &nbsp;&nbsp;

                            <a th:if="${currentPage < totalPages}" th:href="@{'/setting/sliderManager/page/' + ${totalPages} }">Last</a>
                            <span th:unless="${currentPage < totalPages}">Last</span>
                        </div>
<!--                        <nav aria-label="Page navigation example">-->
<!--                            <ul class="pagination">-->
<!--                                <li class="page-item"><a class="page-link" href="#">First</a></li>-->
<!--                                <li class="page-item"><a class="page-link" href="#">Previous</a></li>-->
<!--                                <li class="page-item"><a class="page-link" href="#">Next</a></li>-->
<!--                                <li class="page-item"><a class="page-link" href="#">Last</a></li>-->
<!--                            </ul>-->
<!--                        </nav>-->
                    </div>
                </div>
            </div>

        </div>
    </div>


</div>
<div style="margin-top: 50px;" id="footer" th:insert="index :: footer"></div>

<script type="text/javascript">
    function triggerLoginForm(displayStyle){
        //alert(document.readyState);
        const modalBoxWrapper = document.getElementsByClassName('boxed_wrapper')[0];
        //alert(modalBoxWrapper.tagName)
        modalBoxWrapper.style.display = displayStyle;
    }
</script>


</body>
</html>