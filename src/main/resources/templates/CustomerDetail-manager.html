<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Manager | Services</title>
  <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
  <meta name="description" content="Developed By M Abdur Rokib Promy">
  <meta name="keywords" content="Admin, Bootstrap 3, Template, Theme, Responsive">
  <!-- bootstrap 3.0.2 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="../../css_admin/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <!-- font Awesome -->
  <link href="../../css_admin/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <!-- Ionicons -->
  <link href="../../css_admin/ionicons.min.css" rel="stylesheet" type="text/css" />
  <!-- Morris chart -->
  <link href="../../css_admin/morris/morris.css" rel="stylesheet" type="text/css" />
  <!-- jvectormap -->
  <link href="../../css_admin/jvectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" />
  <!-- Date Picker -->
  <link href="../.././css_admin/datepicker/datepicker3.css" rel="stylesheet" type="text/css" />
  <!-- fullCalendar -->
  <!-- <link href="css/fullcalendar/fullcalendar.css" rel="stylesheet" type="text/css" /> -->
  <!-- Daterange picker -->
  <link href="../../css_admin/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" />
  <!-- iCheck for checkboxes and radio inputs -->
  <link href="../../css_admin/iCheck/all.css" rel="stylesheet" type="text/css" />
  <!-- bootstrap wysihtml5 - text editor -->
  <!-- <link href="css/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" rel="stylesheet" type="text/css" /> -->
  <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  <!-- Theme style -->
  <link href="../../css_admin/style.css" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
  <link rel="stylesheet" href="../../css/admin-dashboard.css">
  <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180"
        href="../../images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png"
        href="../../images/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png"
        href="../../images/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="stylesheet" href="../../css/service-list.css">


  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      text-align: left;
      padding: 8px;
    }

    tr:nth-child(even) {background-color: #a3a8a3;}

    body {
      font-family: 'open sans';
      overflow-x: hidden; }

    img {
      max-width: 100%; }

    .preview {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -webkit-flex-direction: column;
      -ms-flex-direction: column;
      flex-direction: column; }
    @media screen and (max-width: 996px) {
      .preview {
        margin-bottom: 20px; } }

    .preview-pic {
      -webkit-box-flex: 1;
      -webkit-flex-grow: 1;
      -ms-flex-positive: 1;
      flex-grow: 1; }

    .preview-thumbnail.nav-tabs {
      border: none;
      margin-top: 15px; }
    .preview-thumbnail.nav-tabs li {
      width: 18%;
      margin-right: 2.5%; }
    .preview-thumbnail.nav-tabs li img {
      max-width: 100%;
      display: block; }
    .preview-thumbnail.nav-tabs li a {
      padding: 0;
      margin: 0; }
    .preview-thumbnail.nav-tabs li:last-of-type {
      margin-right: 0; }

    .tab-content {
      overflow: hidden; }
    .tab-content img {
      width: 100%;
      -webkit-animation-name: opacity;
      animation-name: opacity;
      -webkit-animation-duration: .3s;
      animation-duration: .3s; }

    .card {
      margin-top: 50px;
      background: #eee;
      padding: 3em;
      line-height: 1.5em; }

    @media screen and (min-width: 997px) {
      .wrapper {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex; } }

    .details {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -webkit-flex-direction: column;
      -ms-flex-direction: column;
      flex-direction: column; }

    .colors {
      -webkit-box-flex: 1;
      -webkit-flex-grow: 1;
      -ms-flex-positive: 1;
      flex-grow: 1; }

    .product-title, .price, .sizes, .colors {
      text-transform: UPPERCASE;
      font-weight: bold; }

    .checked, .price span {
      color: #ff9f1a; }

    .product-title, .rating, .product-description, .price, .vote, .sizes {
      margin-bottom: 15px; }

    .product-title {
      margin-top: 0; }

    .size {
      margin-right: 10px; }
    .size:first-of-type {
      margin-left: 40px; }

    .color {
      display: inline-block;
      vertical-align: middle;
      margin-right: 10px;
      height: 2em;
      width: 2em;
      border-radius: 2px; }
    .color:first-of-type {
      margin-left: 20px; }

    .add-to-cart, .like {
      background: #ff9f1a;
      padding: 1.2em 1.5em;
      border: none;
      text-transform: UPPERCASE;
      font-weight: bold;
      color: #fff;
      -webkit-transition: background .3s ease;
      transition: background .3s ease; }
    .add-to-cart:hover, .like:hover {
      background: #b36800;
      color: #fff; }

    .not-available {
      text-align: center;
      line-height: 2em; }
    .not-available:before {
      font-family: fontawesome;
      content: "\f00d";
      color: #fff; }

    .orange {
      background: #ff9f1a; }

    .green {
      background: #85ad00; }

    .blue {
      background: #0076ad; }

    .tooltip-inner {
      padding: 1.3em; }

    @-webkit-keyframes opacity {
      0% {
        opacity: 0;
        -webkit-transform: scale(3);
        transform: scale(3); }
      100% {
        opacity: 1;
        -webkit-transform: scale(1);
        transform: scale(1); } }

    @keyframes opacity {
      0% {
        opacity: 0;
        -webkit-transform: scale(3);
        transform: scale(3); }
      100% {
        opacity: 1;
        -webkit-transform: scale(1);
        transform: scale(1); } }
  </style>


</head>
<body class="skin-black">
<header class="header" >
  <a th:href="@{/admin/dashboard}" class="logo" th:text="${session.user.userRole.roleName}">

  </a>
  <!-- Header Navbar: style can be found in header.less -->
  <div th:replace="header_admin::navbarRight"></div>
</header>
<div class="wrapper row-offcanvas row-offcanvas-left">
  <!-- Left side column. contains the logo and sidebar -->
  <div th:replace="navBar_admin::leftSide_admin('/manager/servicedetail')" ></div>


  <aside class="right-side">
    <section class="content">

      <div class="container">
        <div class="card">
          <div class="container-fliud">
            <div class="wrapper row">
              <div class="preview col-md-6">

                <div class="preview-pic tab-content">
                  <div class="tab-pane active" id="pic-1"><img id="avatar" th:src="${'data:image/gif;base64,'+ customer.customer_user.base64AvatarEncode}" /></div>
                  <input id="input-ava" name="avatar" type="file"  onchange="previewAvatar(this)">
                </div>
              </div>
              <div class="details col-md-6">

                <!--<h3 class="product-title" th:text="${service.title}"></h3> -->
                <div class="form-group">
                  <label for="id">ID</label>
                  <input  th:value="${customer.customer_id}" class="form-control" readonly type="text"   id="id" required="">
                </div>

                <div class="form-group">
                  <label for="title">Fullname</label>
                  <input  th:value="${customer.customer_user.fullname}" class="form-control" type="text"   id="title" required="">
                </div>

                <div class="form-group">
                  <label for="category">Gender</label>
                  <input  th:value="${customer.customer_user.gender ? 'Male' : 'Fenale'}" class="form-control" type="text"   id="category" required="">
                </div>

                <div class="form-group">
                  <label for="briefInfo">Email</label>
                  <input  th:value="${customer.customer_user.email}" readonly class="form-control" type="text"   id="briefInfo" required="">
                </div>

                <div class="form-group">
                  <label for="description">Phone</label>
                  <input  th:value="${customer.customer_user.phone}" class="form-control" type="text"   id="description" required="">
                </div>

                <div class="form-group">
                  <label for="originPrice">Status</label>
                  <input  th:value="${customer.customer_user.status}" readonly class="form-control" type="text"   id="originPrice" required="">
                </div>


                <div class="col-12">
                  <hr class="mt-2 mb-3">
                  <div class="d-flex flex-wrap justify-content-between align-items-center">
                    <button class="btn btn-style-1 btn-primary" type="submit" data-toast="" data-toast-position="topRight" data-toast-type="success" data-toast-icon="fe-icon-check-circle" data-toast-title="Success!" data-toast-message="Your profile updated successfuly." onclick="update()">Save</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section><!-- /.content -->
    <div class="footer-main">
      <h3>Copyright &copy SWP391 SPRING 2022 SE1517-NET TEAM 2</h3>
    </div>
  </aside><!-- /.right-side -->

</div><!-- ./wrapper -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- jQuery 2.0.2 -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="../../js_admin/jquery.min.js" type="text/javascript"></script>

<!-- jQuery UI 1.10.3 -->
<script src="../../js_admin/jquery-ui-1.10.3.min.js" type="text/javascript"></script>
<!-- Bootstrap -->
<script src="../../js_admin/bootstrap.min.js" type="text/javascript"></script>
<!-- daterangepicker -->
<script src="../../js_admin/plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>

<script src="../../js_admin/plugins/chart.js" type="text/javascript"></script>

<!-- datepicker
<script src="js/plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script>-->
<!-- Bootstrap WYSIHTML5
<script src="js/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js" type="text/javascript"></script>-->
<!-- iCheck -->
<script src="../../js_admin/plugins/iCheck/icheck.min.js" type="text/javascript"></script>
<!-- calendar -->
<script src="../../js_admin/plugins/fullcalendar/fullcalendar.js" type="text/javascript"></script>

<!-- Director App -->
<script src="../../js_admin/Director/app.js" type="text/javascript"></script>

<!-- Director dashboard demo (This is only for demo purposes) -->
<script src="../../js_admin/Director/dashboard.js" type="text/javascript"></script>
<script type="text/javascript">
  $('input').on('ifChecked', function(event) {
    // var element = $(this).parent().find('input:checkbox:first');
    // element.parent().parent().parent().addClass('highlight');
    $(this).parents('li').addClass("task-done");
    console.log('ok');
  });
  $('input').on('ifUnchecked', function(event) {
    // var element = $(this).parent().find('input:checkbox:first');
    // element.parent().parent().parent().removeClass('highlight');
    $(this).parents('li').removeClass("task-done");
    console.log('not');
  });

</script>
<script>
  $('#noti-box').slimScroll({
    height: '400px',
    size: '5px',
    BorderRadius: '5px'
  });

  $('input[type="checkbox"].flat-grey, input[type="radio"].flat-grey').iCheck({
    checkboxClass: 'icheckbox_flat-grey',
    radioClass: 'iradio_flat-grey'
  });
</script>
<script type="text/javascript">
  function update(){
    var id = document.getElementById("id").value;
    var title = document.getElementById("title").value;
    var briefinfo = document.getElementById("briefInfo").value;
    var category = document.getElementById("category").value;
    var desccription = document.getElementById("description").value;
    var orginprice = document.getElementById("originPrice").value;
    var saleprice = document.getElementById("salePrice").value;
    var avatar = document.getElementById("input-ava").files[0];
    var formData = new FormData();
    formData.append("id", id);
    formData.append("title",title);
    formData.append("briefinfo",briefinfo);
    formData.append("category",category);
    formData.append("originprice", orginprice);
    formData.append("saleprice",saleprice);
    formData.append("description",desccription);
    formData.append("avatar",avatar);
    fetch("/ChildrenCare/api-service/update-service",{
      method : "post",
      body : formData
    }).then(respond => {
      return respond.text();
    }).then(message => {
      alert(message);
    })
  }

  var lastPreviewAvarta;
  function previewAvatar(inputFileElement) {
    if (lastPreviewAvarta) {
      URL.revokeObjectURL(lastPreviewAvarta);
    }
    var image = inputFileElement.files[0];
    lastPreviewAvarta = URL.createObjectURL(image);
    var formAva = document.getElementById("avatar");
    formAva.src = lastPreviewAvarta;
  }


</script>
</body>
</html>