<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- responsive meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- For IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- master stylesheet -->
    <link rel="stylesheet" href="../../../css/style.css">
    <!-- Responsive stylesheet -->
    <link rel="stylesheet" href="../../../css/responsive.css">
    <!--Color Switcher Mockup-->
    <link rel="stylesheet" href="../../../css/color-switcher-design.css">
    <!--Color Themes-->
    <link rel="stylesheet" href="../../../css/color-themes/default-theme.css"
          id="theme-color-file">
    <!-- Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Bootstrap -->
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180"
          href="../images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png"
          href="../images/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png"
          href="../images/favicon/favicon-16x16.png" sizes="16x16">

    <link rel="stylesheet" href="../../../css/authentication.css">
    <!-- Fav icon -->
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>

    <link rel="stylesheet" href="../../../css/myReservation.css">
    <link rel="stylesheet" href="../../../css/setting.css">
    <!--fix login form not appear when first click-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--    fix login form not appear when first click-->
</head>
<body>
<div class="boxed_wrapper" th:replace="authentication.html :: authentication('/setting/myReservation/page/1')"></div>
<div style="margin-bottom: 50px" th:insert="index :: top-bar"></div>
<header th:replace="header.html :: header"></header>

<div th:replace="mainmenu.html :: mainMenu('','Search...','home','')"></div>
<div class="container mt-5">
    <div class="row">
       <div class="col-lg-4 pb-5" th:replace="settingLeftSide::left-side"></div>
        <!-- Profile Settings-->
        <div class="col-lg-8 pb-5">
            <div class="container-lg">
                <div class="table-responsive">
                    <div class="table-wrapper">
                        <div class="table-title">
                            <div class="row">
                                <div class="col-sm-8"><h2>My <b>Reservation</b></h2></div>
                                <div class="col-sm-4">
                                    <button type="button" class="btn btn-info add-new">View Only</button>
                                </div>
                            </div>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>Reservation ID</th>
                                <th>Reserved Date</th>
                                <th>Service</th>
                                <th>Time to check up</th>
                                <th>Total cost</th>
                                <th>Status</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="customer: ${customerReser}">
                                <td th:text="${customer.reservation.reservationId}"></td>
                                <td th:text="${customer.reservation.date}"></td>
                                <td th:text="${customer.service.title}"></td>
                                <td th:text="${customer.slot.start}+'-'+${customer.slot.end}"></td>
                                <td th:text="${customer.price}"></td>
                                <td th:utext="${customer.reservation.status} ?'Submited':'Confirmed'"></td>
                            </tr>

                            </tbody>
                        </table>
                        <div th:if="${totalPages > 1}">
                            Total Items: [[${totalItems}]]
                            &nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;

                            <a th:if="${currentPage > 1}" th:href="@{'/setting/myReservation/page/1'}">First</a>
                            <span th:unless="${currentPage > 1}">First</span>
                            &nbsp;&nbsp;

                            <a th:if="${currentPage > 1}" th:href="@{'/setting/myReservation/page/' + ${currentPage - 1} }">Previous</a>
                            <span th:unless="${currentPage > 1}">Previous</span>

                            &nbsp;&nbsp;

                            <span th:each="i: ${#numbers.sequence(1, totalPages)}">
			                  <a th:if="${currentPage != i}" th:href="@{'/setting/myReservation/page/' + ${i}}">[[${i}]]</a>
			                  <span th:unless="${currentPage != i}">[[${i}]]</span>&nbsp;</span>

                            <a th:if="${currentPage < totalPages}" th:href="@{'/setting/myReservation/page/' + ${currentPage + 1} }">Next</a>
                            <span th:unless="${currentPage < totalPages}">Next</span>
                            &nbsp;&nbsp;

                            <a th:if="${currentPage < totalPages}" th:href="@{'/setting/myReservation/page/' + ${totalPages} }">Last</a>
                            <span th:unless="${currentPage < totalPages}">Last</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>
<div style="margin-top: 50px;" id="footer" th:insert="index :: footer"></div>

<script type="text/javascript">
    function triggerLoginForm(displayStyle){
        //alert(document.readyState);
        const modalBoxWrapper = document.getElementsByClassName('boxed_wrapper')[0];
        //alert(modalBoxWrapper.tagName)
        modalBoxWrapper.style.display = displayStyle;
    }
</script>

</body>
</html>